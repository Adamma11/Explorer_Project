<p class="tagname">Upload Batch</p>
<div>
    <form [formGroup]="batchUploadForm">
        <mat-card>
          <mat-card-content class="grid-content">
            <div class="form-group">
              <mat-label>Client</mat-label>
              <mat-select formControlName="clientId" (selectionChange)="clientSelectionChanged($event)" >
                <mat-option *ngFor="let client of clients" [value]="client._id">
                  {{client.name}}
                </mat-option>
              </mat-select>
            </div>
      
            <div class="form-group">
              <mat-label>Subclient</mat-label>
              <mat-select formControlName="subclientId" (selectionChange)="subclientSelectionChanged($event)">
                <mat-option *ngFor="let subclient of subclients" [value]="subclient._id">
                  {{subclient.name}}
                </mat-option>
              </mat-select>
            </div>
      
            <div class="form-group">
              <mat-label>Batch Description/Emp Code/Package/Profile</mat-label>
              <input matInput formControlName="batchDescription" type="text" size="50" maxlength="100"  placeholder="Batch Description">
            </div>
      
            <div class="form-group">
              <mat-label>No of Cases in batch</mat-label>
              <input matInput formControlName="numberOfCases" type="number" size="3" maxlength="3" matInput placeholder="No. of Cases" >
            </div>
      
            
            <mat-form-field>
              <!-- <mat-label>File to Upload</mat-label> -->
              <ngx-mat-file-input  formControlName="batchZipFile" accept=".zip" valuePlaceholder="Click here to select a zip file" placeholder="Select a zip File"></ngx-mat-file-input>
          </mat-form-field>

            <div class="form-group">
              <button class="btn-rounded" type="submit"  (click)="onFormSubmit()"> <mat-icon>file_upload</mat-icon>Upload</button>
            </div>
          </mat-card-content>
        </mat-card>
      </form>
      
 <div class="table" >
  <div class="header">
    <table mat-table [dataSource]="dataSource" matSort>
      <ng-container matColumnDef="serialNumber">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> SL No. </th>
        <td mat-cell *matCellDef="let row; let i = index" (click)="showDetails(row)">
          {{ i + 1 + myPaginator.pageIndex * myPaginator.pageSize }}
        </td>
      </ng-container>
      
      <ng-container matColumnDef="batchId">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Batch Id </th>
        <td mat-cell *matCellDef="let row" (click)="showDetails(row)"> {{row.batchId}}</td>
      </ng-container>

      <ng-container matColumnDef="batchDescription">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Batch Description </th>
        <td mat-cell *matCellDef="let row" (click)="showDetails(row)"> {{row.batchDescription}} </td>
      </ng-container>

      <ng-container matColumnDef="uploadDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> UploadDate </th>
        <td mat-cell *matCellDef="let row" (click)="showDetails(row)"> {{row.uploadDate |date:'dd-MMM-yyyy' }} </td>
      </ng-container>

      <ng-container matColumnDef="numberOfCases">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> No. of Cases </th>
        <td mat-cell *matCellDef="let row" (click)="showDetails(row)"> {{row.numberOfCases}} </td>
      </ng-container>

      <ng-container matColumnDef="acceptedCases">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Accepted Cases </th>
        <td mat-cell *matCellDef="let row" (click)="showDetails(row)"> {{row.acceptedCases}} </td>
      </ng-container>


      <ng-container matColumnDef="header-row-first-line">
        <mat-header-cell style="color: green;"  *matHeaderCellDef>Batches</mat-header-cell>
    </ng-container>
   
    <!-- <mat-header-row style="background-color: lightskyblue;" *matHeaderRowDef="['header-row-first-line']"></mat-header-row>                                    -->
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <mat-paginator  #myPaginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of users"></mat-paginator>
</div>
</div>

  <!-- <mat-table [dataSource]="dataSource" >
      <ng-container matColumnDef="serialNumber">
          <mat-header-cell  *matHeaderCellDef>#</mat-header-cell>
          <mat-cell  *matCellDef="let batch;let i=index">{{i+1}}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="batchId">
          <mat-header-cell  *matHeaderCellDef>Batch Id</mat-header-cell>
          <mat-cell *matCellDef="let batch">{{batch.batchId}}</mat-cell>
      </ng-container>       
      <ng-container matColumnDef="batchDescription">
          <mat-header-cell *matHeaderCellDef>Batch Description</mat-header-cell>
          <mat-cell *matCellDef="let batch">{{batch.batchDescription}}</mat-cell>
      </ng-container>                
      <ng-container matColumnDef="uploadDate">
          <mat-header-cell *matHeaderCellDef>UploadDate</mat-header-cell>
          <mat-cell *matCellDef="let batch">{{batch.uploadDate | date:'dd-MMM-yyyy'}}</mat-cell>
      </ng-container>                        
      <ng-container matColumnDef="numberOfCases">
          <mat-header-cell *matHeaderCellDef>No. of Cases</mat-header-cell>
          <mat-cell *matCellDef="let batch">{{batch.numberOfCases}}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="acceptedCases">
          <mat-header-cell *matHeaderCellDef>Accepted Cases</mat-header-cell>
          <mat-cell *matCellDef="let batch;let i=index">{{batch.acceptedCases}}</mat-cell>
      </ng-container>  
      <ng-container matColumnDef="header-row-first-line">
          <mat-header-cell style="justify-content: center;" *matHeaderCellDef [attr.colspan]="5">Batches</mat-header-cell>
      </ng-container>
      <mat-header-row *matHeaderRowDef="['header-row-first-line']"></mat-header-row>                                   
      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>                              
      <mat-row  *matRowDef="let batch;columns:displayedColumns"></mat-row>
  </mat-table> -->


</div>