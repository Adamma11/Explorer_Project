<!-- <p class="tagname">Accept Batch</p> -->
<div class="header-tag mat-card">
  <h1 class="tagname">Accept Batch</h1>
</div>
<mat-divider></mat-divider>
<div class="header">
  <div class="mat-card">
      <div class="document-card">
          <h4 class="card-heading" style="padding: 0px; margin: 0px;">Case Information</h4>
          <!-- <button class="btn-rounded" (click)="downloadBatchFile()"> Download Zip File<mat-icon>file_download</mat-icon> </button> -->
          <button class="btn-rounded" (click)="downloadBatchFile()"> Download Zip File</button>
      </div>
      <div class="form-card-row">
          <div class="form-card-group">
            <mat-label>Client</mat-label>
            <mat-label class="label-value">{{clientName}}</mat-label>
          </div>
          <div class="form-card-group">
            <mat-label>Subclient</mat-label>
            <mat-label class="label-value">{{subclientName}}</mat-label>
          </div>
          <div class="form-card-group">
              <mat-label>BatchId</mat-label>
              <mat-label class="label-value">{{batchId}}</mat-label>
          </div>
      </div>
  </div>
</div>
<mat-card style="margin-top: 10px">
     <table mat-table [dataSource]="batchCasesDataSource" matSort>
       <ng-container matColumnDef="serialNumber" >
         <th mat-header-cell *matHeaderCellDef mat-sort-header>  SL No. </th>
         <td mat-cell *matCellDef="let row; let i = index">
          {{ i + 1 }}
        </td>
       </ng-container>
       <ng-container matColumnDef="fileName">
         <th mat-header-cell *matHeaderCellDef mat-sort-header> File Name </th>
         <td mat-cell *matCellDef="let row"> {{row.fileName}} </td>
       </ng-container>
  
       <ng-container matColumnDef="candidateName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Candidate Name </th>
        <td mat-cell *matCellDef="let row"><input [(ngModel)]="row.candidateName" value="row.candidateName" type="text" maxlength="100"> </td>
    </ng-container>  
  
       <ng-container matColumnDef="packageOrProfile">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Package/Profile </th>
        <td mat-cell *matCellDef="let row"> 
          <select [(ngModel)]="row.packageOrProfile" value="row.packageOrProfile" (change)="packageOrProfileChanged(row)">
              <option value="-1">Select One</option>
              <option value="PACKAGE">Package</option>
              <option value="PROFILE">Profile</option>
          </select>
      </td>
    </ng-container>  
  
       <ng-container matColumnDef="package">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Package Name </th>
        <td mat-cell *matCellDef="let row"> 
          <select [disabled]="row.packageOrProfile=='PROFILE' || row.packageOrProfile=='-1'" [(ngModel)]="row.package" value="row.package" >
              <option value="-1">Select One</option>
              <option *ngFor="let package of packages" value={{package._id}}>{{package.name}}</option>
          </select>
      </td>
    </ng-container>  
  
       <ng-container matColumnDef="profile">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Profile Name </th>
        <td mat-cell *matCellDef="let row"> 
          <select [disabled]="row.packageOrProfile=='PACKAGE' || row.packageOrProfile=='-1'" [(ngModel)]="row.profile" value="row.profile">
              <option value="-1">Select One</option>
              <option *ngFor="let profile of profiles" value={{profile._id}}>{{profile.name}}</option>
          </select>
      </td>
    </ng-container>  
  
       <ng-container matColumnDef="accept">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Accept </th>
        <td mat-cell *matCellDef="let row"> 
          <button [disabled]="row.candidateName=='' || row.packageOrProfile=='-1' || (row.package=='-1' && row.profile=='-1')" style="height: 32px;width: 32px;"  mat-icon-button color="primary" (click)="acceptButtonClicked(row)"><mat-icon>done</mat-icon></button>
      </td>
    </ng-container>  
  
       <ng-container matColumnDef="reject">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Reject </th>
        <td mat-cell *matCellDef="let row"> 
          <button style="height: 32px;width: 32px;"  mat-icon-button color="warn" (click)="rejectButtonClicked(row)"><mat-icon>cancel</mat-icon></button>
      </td>
    </ng-container>  
  
       <tr mat-header-row *matHeaderRowDef="batchAcceptanceDisplayedColumns"></tr>
       <tr mat-row *matRowDef="let row; columns: batchAcceptanceDisplayedColumns;"></tr>
  
       <tr class="mat-row" *matNoDataRow>
         <td class="mat-cell" [attr.colspan]="batchAcceptanceDisplayedColumns.length">No data matching the filter</td>
       </tr>
     </table>
</mat-card>
